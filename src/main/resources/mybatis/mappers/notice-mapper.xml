<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="noticeMapper">
	    <!-- 결과 매핑 -->
   <resultMap id="noticeResultMap" type="NoticeDto">
			<result column="POST_NO" property="postNo" />
			<result column="board_type_no" property="boardTypeNo" />
			<result column="user_no" property="userNo" />
			<result column="POST_TITLE" property="postTitle" />
			<result column="POST_CONTENT" property="postContent" />
			<result column="REGIST_DATE" property="registDate" />
			<result column="FILE_STATUS" property="fileStatus" />
			<result column="COUNT" property="count" />
			<result column="POST_TOP" property="postTop" />
			<result column="modify_date" property="modifyDate" />
			<result column="modify_user" property="modifyUser" />
	</resultMap>

	
	<!-- 게시판 유형이 공지사항 -->
	<select id="selectNoticeList" resultMap="noticeResultMap">
	SELECT
    P.POST_NO,
    P.POST_TITLE,
    P.POST_CONTENT,
    U.USER_NAME AS WRITER_NAME,
    BOARD_TYPE_NO,
    TO_CHAR(P.REGIST_DATE, 'YYYY-MM-DD') AS REGIST_DATE
FROM 
    T_POST P
JOIN 
    T_USER U 
ON 
    P.USER_NO = U.USER_NO

WHERE 
    BOARD_TYPE_NO = 1
ORDER BY 
    P.POST_NO DESC
		
	</select>
	
	
</mapper>