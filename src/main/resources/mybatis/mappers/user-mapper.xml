<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="userMapper">

	
	<resultMap id="userResultMap" type="UserDto">
		<result column="user_no" property="userNo"/>
		<result column="user_id" property="userId"/>
		<result column="user_pwd" property="userPwd"/>
		<result column="user_name" property="userName"/>
		<result column="email" property="email"/>
		<result column="gender" property="gender"/>
		<result column="phone" property="phone"/>
		<result column="address" property="address"/>
		<result column="profile_url" property="profileURL"/>
		<result column="user_status" property="userStatus"/>

		<result column="st_dept_no" property="stDeptNo"/>
		<result column="RANK_NO" property="rankNo"/>
		<result column="DEPT_NO" property="deptNo"/>
		<result column="CREATE_USER" property="createUser"/>
		<result column="NAME_URL" property="nameURL"/>
		<result column="UPDATE_USER" property="updateUser"/>
		<result column="HOLI_DATE_TOTAL" property="holyDateTotal"/>
	</resultMap>

	<!-- 로그인 -->
	<select id="selectUser" resultMap="userResultMap">
	select
				   user_no
				 , user_id
				 , user_pwd
				 , user_name
				 , email
				 , gender
				 , phone
				 , address
				 , profile_url
				 , user_status
                 , t1.st_dept_no
                 , t1.RANK_NO
                 , t1.DEPT_NO
                 , t1.CREATE_DATE
                 , t1.CREATE_USER
                 , t1.MODIFY_DATE
                 , UPDATE_USER
                 , NAME_URL
                 , HIRE_DATE
                 , LEAVE_DATE
                 , HOLI_DATE_TOTAL
			from t_user t1
            left join t_st_dept t2 on t1.st_dept_no = t2.st_dept_no
            left join t_rank t3 on t1.rank_no = t3.rank_no
            left join t_dept t4 on t1.dept_no = t4.dept_no
		 where user_status = 'Y'
		   and user_id = #{userId}
	</select>
</mapper>
