<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="postMapper">
	    <!-- 결과 매핑 -->
   <resultMap id="postResultMap" type="PostDto">
			<result column="POST_NO" property="postNo" />
			<result column="board_type_no" property="boardTypeNo" />
			<result column="user_no" property="userNo" />
			<result column="POST_TITLE" property="postTitle" />
			<result column="post_content" property="postContent" />
			<result column="REGIST_DATE" property="registDate" />
			<result column="FILE_STATUS" property="fileStatus" />
			<result column="count" property="count" />
			<result column="POST_TOP" property="postTop" />
			<result column="modify_date" property="modifyDate" />
			<result column="modify_user" property="modifyUser" />
	</resultMap>
	
	
	<!-- 게시글 목록 조회 -->
	<select id="selectPostList" resultMap="postResultMap">
		select 
      POST_NO
    , POST_TITLE
    , REGIST_DATE
    , FILE_STATUS
    , "COUNT" as count 
    , POST_TOP
  from
      t_post
	</select>
	
	<!--  -->


<!-- <select id="selectPostList" resultMap="postResultMap">
		select
		       p.post_no
		     , post_type_no
		     , user_no
		     , post_title
		     , post_content
		     , 
		     , user_id
		     , count
		     , to_char(regist_date, 'YYYY-MM-DD') as "regist_date"
		     , (
		         select count(*)
		           from attachment
		          where ref_type = ''
		            and ref_no = b.board_no
		       ) as "attach_count"
		  from board b
		  join member on (user_no = board_writer)
		 where b.status = 'Y'
		 order by board_no desc
	</select> -->
</mapper>

